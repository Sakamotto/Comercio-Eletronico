IF object_id(N'[dbo].[FK_dbo.Endereco_dbo.Cliente_Cliente_Id]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[Endereco] DROP CONSTRAINT [FK_dbo.Endereco_dbo.Cliente_Cliente_Id]
IF object_id(N'[dbo].[FK_dbo.Endereco_dbo.Hotel_Hotel_Id]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[Endereco] DROP CONSTRAINT [FK_dbo.Endereco_dbo.Hotel_Hotel_Id]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Cliente_Id' AND object_id = object_id(N'[dbo].[Endereco]', N'U'))
    DROP INDEX [IX_Cliente_Id] ON [dbo].[Endereco]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Hotel_Id' AND object_id = object_id(N'[dbo].[Endereco]', N'U'))
    DROP INDEX [IX_Hotel_Id] ON [dbo].[Endereco]
EXECUTE sp_rename @objname = N'dbo.Hotel.Endereco_Id', @newname = N'EnderecoId', @objtype = N'COLUMN'
EXECUTE sp_rename @objname = N'dbo.Cliente.Endereco_Id', @newname = N'EnderecoId', @objtype = N'COLUMN'
EXECUTE sp_rename @objname = N'dbo.Hotel.IX_Endereco_Id', @newname = N'IX_EnderecoId', @objtype = N'INDEX'
EXECUTE sp_rename @objname = N'dbo.Cliente.IX_Endereco_Id', @newname = N'IX_EnderecoId', @objtype = N'INDEX'
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Endereco')
AND col_name(parent_object_id, parent_column_id) = 'Cliente_Id';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Endereco] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[Endereco] DROP COLUMN [Cliente_Id]
DECLARE @var1 nvarchar(128)
SELECT @var1 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Endereco')
AND col_name(parent_object_id, parent_column_id) = 'Hotel_Id';
IF @var1 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Endereco] DROP CONSTRAINT [' + @var1 + ']')
ALTER TABLE [dbo].[Endereco] DROP COLUMN [Hotel_Id]
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201710031144158_CorrecaoChaveEndereco', N'EchoHotel.Data.Migrations.Configuration',  0x1F8B0800000000000400ED5DDD6EDCBA11BE2FD077107459E4786D07054E8DF53970ECB8359AD8A9D7097A17D012BD162A895B896BD828FA64BD388F745EA1D43FFF454A94761D18B9C98AE47038FC66480E39E3DFFFF7DBF2D7E724F69E609647283DF58F0E0E7D0FA6010AA3747DEA6FF1C34F3FFBBFFEF2C73F2C3F86C9B3F7ADA9F7BEA8475AA6F9A9FF88F1E664B1C883479880FC2089820CE5E8011F04285980102D8E0F0FFFB2383A5A4042C227B43C6F79BB4D7194C0F207F9798ED2006EF016C49F5108E3BCFE4E4A562555EF1A2430DF80009EFA1F8347F43784617C70013038204D317CC6BE7716478070B382F183EF8134451860C2EBC9D71CAE7086D2F56A433E80F8EE650349BD0710E7B01EC34957DD743887C7C570165DC38654B0CD314A2C091EBDAFE5B3E09B0F92B2DFCA8F48F02391347E29465D4AF1D43F232D500802807C8FEFEEE43CCE8AAA8C984985283D28E944303FE8DABFF3F85AEF5A88102415FFDE79E7DB186F33789AC22DCE40FCCEFBB2BD8FA3E0EFF0E50EFD0BA6A7E9368E698609CBA48CF9403E7DC9D00666F8E5163ED4C3B80A7D6FC1B65BF00DDB66549B6A7857297E7FEC7BD7A473701FC3160F9428561865F0AF308519C030FC023086595AD080A54485DEB9BE6E610EB327D0DFA59E4C29DDB144BE8118650D890B184409887DEF4B46FE57EBFDCFBEB70A4041D09EFA45946F501A3DC1B8E9E203423104A935A57340743C0A4108C78DF702E641169508AFC8100B400C9AEF7D06CF9F60BAC68FA7FE9F0F8909BB8C9E61D87CA9497F4D2362FF48239C6DC59EAEC153B42E01C2F579164601F90AA2DCF76E615C56C91FA34D65920E9AE2F87BA33F08929A97194A6E514CB5672A7CBF03D91A12EB768774B556689B0516BC96A092B25996A858140A05F6C41AB6ACD56A2365AE2E53B12729161894D591B1B85C7476536F4D9B0919684C9BE66FB654D3D7354AA046958F0C5579AFACE65DB44196564E6D7B688570677C1AC5D01B9F46C56C8C8FC248D6E683B2A482F169CB54B6A7AB304AAF6B133944A7CBAF6FFAACE9EB1F3864803866AD27B43EE63823601A4968C24D03D7D3C73484C48A20EB6DDD600360B9ACF38AAF5EF81DED8EAC145FC19D68194C996BE643C35A578567AC2951B0D516CB9832B6465DF7430C52D3FACD26E9CE1E7033FF16E3760B1C74AAEFE30388B24C67D4261ADB3973909BAF5FB21A807007E3FD7AA9E9F3D87A228D6D437B621A621AEAC66F96410764946CB2D18E9C694F13E7288CD6E8130A807E03E3C6A4149ED7ABB4586FDB0111C9DE4589BDD614A4EE609644E9785A67387A6AEDA9B10F6AF0A66A803B82DF23E85C16A66C56F0D472D8541199AB4A947CD5C5A3F62E4DE743CC53D5F6CD3AF56A7E23E4B917BD3B328A98EDDCBD6D8B23220AE8EEB4541394AA4C8DF8B64AA7326C89A0325CB1AD16D71AA7B734BD7AAC7277726A3E4C8F1B910C52E4AAF19B26EF9D977385EE3398EEA4EB62EDBF063931174440E397FFC16E15DE3C6C1E74B2389AE4D04274219E7F068A1D1372B763AACC8CDC86191B56DE8629ECAE13E74E4354E6DEE1CB448BCF57B0D9269DE5390AA2921FFE2689D950B2A3245D79461EFB0A478CEF9FE08918D668434C29E1E7D4FF9320C33EEAEDCC50D4A9C7045AF2CB053562BD204467A58A4D8DE7B263B1F6E4B3DC1DF9FC7A71935EC01862E89D05D5BB8D7362994A0706BF6690FECD191A23B3E2A10C7C20D84A8B872BE704B9643D8C522C2E75511A441B10F789856B68B84A16636EBBE04B2EE006A6C502D7270193BEDBC70E22036D3FDC64F409C81E779D13BA6796251EE91ED4E9544E7DBF65AFCBD6836EED9F9E3BD1148E1EB0603C29929D55E695D7A19AF00CCCA623BC304D3AA6B7383BD11199CF4335C15A074837CBADFF72160BAD7D2432A38DD6086706046AA460D23BF5B66D272814B66DAAD956EFE1BAA96E77A4E6A64BB9F39BCF78A95898013C2AA1BE0A03C61D439433AC70F650B0A97D3116A8519C737AA1E8D4140E439B94F539B0269D07938E29AFE14E57CA1A277DEB11EF88EF5D1F7548537905FBD0BB7BA0C9399F714564E7C10868EDF5E00C38AB9C0945D0036901B3C6AA364ED5361A42F0D17ECD61EDA6CD6B5F110F9E82F00A62499440E7C190EC8E04107274BA238B48A62BEBA1521F2E040AF5F79ED6DD522C10E88A7A68B45A2890684B7A28342A2710680AFADA378B8348A029E1285018924C087B6F49D5D53E1AE5216EEA916A47C34042D0185317144D4E0DC6052B0103E9481ECA8992E9715019BAA8A82148616CE8589A5812D4933CA520141E13339FC91031884E1213780D164267245422901F444C3C2803862F9C3A281A4A7B663F76E9F3065100BD1E01639F00350C854D353EC94FA514E27D812810FDE1D4EC784AF1AF30EE66E7D16990C15FE54864A03965999CB3E8F14B5747938355BF10476845C3965A21641B7F93ADFF4035E0F6FABD12D48CBDB9B36AB7996DD9725105E4D61F960B45E4EEF233D86CA2744D45F2D65FBC5515C67BFED3CA3EB635A9682C02C6C4F09BE2B6278C32B0865C69F962065E46598E8BFBE77B505C709E8789504DD8542BB6674D77C2BE599CB366DFD63429FECFEDE099A8E60335B54EA2976490C5057A395E28B77C4263AF08AD0631C824EF1DCE51BC4D52F5A94ADD9AF20BD24434EE4235ADF62E88A6A4BC2052D3A9DF5DD254EA4FE634E808579A10FDDD9C1A1DE54A53A3BF5BF0D685AD30AC759F455ACB05871DE1E02A605538EDB3E837D38D7667E6423554C44C3443DD761AC5A89EF6D0EDAB2FF3C2B80A39A449545FF60620D50ED80138A4840C80A168370D28F828389A125F6645B58B87E3487605D3DA17152DDAFB4F13D3DD0AEC0C8C9AFDBB351E55B40C20A96E3A0D2ACB382866592A3E58EC018A902666F5DF4A36B0EAF64DB8124DA2F966310AD9FA6ABDB636A1440C56EB6FE6548AC0209A42F17B6F50DE1C311C805C41CA00E3CA961341BCF5D833F050FAF1D5945CACCA5CE80ECB12536461B4A9001DC66A53DFEDA8B5313A3CB9B6C09C5E1DA74353AA3FED8D5A280FEFD65A21A764A014AA8653E9041D46228250E5865153644243984D275D60C16177A1CBB0A7BEE7DD1D7A947E2F7BF8C84999E047D5725F8F385424024D86FA6C67B2E8D002DE6AD16553EF5F95802EE20C1828171F2CB8A962061846AA4F76A61889A678278742D61FA9701DB0D711E65E02B69DD221A075DF858AA416866FAD8D94AEA3297F514071319441E5A30A33065B095972C83B9CAD3120DE489AF9019826D213BFCE31C5CB54759139509C15390773ADBA1A9D1987FDB32CDC2EF0555A3BD3DE3270B709CBDAB3DF9F2C5470F557558AD854F41485859B7FF592639854B059FD3BAE56CDAEC26790460F30C755E8A17F7C7874CCE51ADD9FBC9F8B3C0F63C9CD883CF9273B6D33445046855C7B63246D33A8F06936CB5E84E74F5764857E3EF5FF53B63AF1AEFEF9BD6DF8CEBBC9C8449F7887DE7FC7A6E734EDBC6E36AA6B26A144387D52CFFB083B48E8594A686C66AEF40964C123C8C4DC5C1DE511195514CBC1ABD5113AB0582ABA2356747B003F3A3B623F642CB3FAFD18B32A4FA23744BF2429F476A8A6226131B0DBD4CE762D2D4CAD7D56B61F03505406346756824A706642D33E9F99334ED97465CEC8B2D9C89C91ED928D49491E3B5A09A58EF9D70B702E9197A91569DAEDF1764D9AFFCB95C689E9BE423221D851BAAFC1B498745FFDBB53DB84553F0AE6C5F450CEAC9024FB937B64F3D99F8CB5B66938C5D22F8F1F7CAD2099E4802024167246599E3768B01D99797B2981789770482EA3A371F9849C099E4917E4D0E2F6BADFCD34ABC7672969A0F365F76B25DB9F1D74E8B6A3C0C38DC1920BBAF1147652E75E379B548D83DC0E01FDF3D97535C09B377A1EE707D3C8DC54D29B0F59049F590E1B31318284141DCD23233A79DE0EDDB363E741C906D792430CE11CE1EFE6578FF4342B665739A9AF043376B3B72BD0F45DECCE9782CB34F5DBCEF2BC5903D56566B7594064879DFD4ADCD6B7301963476D5CB87D8D40CB22EBE27E0341FF3EC276C7B61334F42D3AEEB629BB46C5AC9B9301C8D8837D8961BEC32E5A7A504A2F6B5BE308009A389369E6FF7524FD1A90B57087290A77B5B950C76FEC7A7BF16AF20D3A331B6DC28221890AF7DE74A81FB5EFA1F130CD18683E6313D90DEE6F80D824291C938272BE34803F52DE3FE3C99A360FEEB04C83237248CE98CBEFB564EF13F391F0933630355FF5D8F9D40FEF8B05A97203BB4FDD27EDC555663F19718749FF64E45DA60494D177962F5046DC5D2E412975451A252572F45095D5D2A2C902BCFC795B0EB01E18F375B83ECDF32BB6C99D0CD32C2A824AE45E0B591C93C49CF578C67BA2A184B5C53A73963EA1A3A960E4512D8AD3133D26E550F64034D3649DB44C2E682D38074925357A6118673572D07233218B0C9B60F06AEC1B067339B207F30BC149464D7E85D7A6391C82943D4B9A699D1A700E8D769C1173F89C725B1AC7691F5DA6BC3467547A62A49BD96676EC83AD83AC96C66C0E85B89BC49562082939D76DD3E20161F5EB02E6D1BA23B1243453183027BAB6CE55FA809AA325C75153857BEDF319621092E3DE5986A3071060521CC03C2FFFECDF37106F0B5548EE617895DE6CF1668BC99061721F337F43B238A0EAFA2FB373B23C2F6F36E55FC0733104C26654BCB9BC493F6CA3386CF9BE943C345290284EBEF533D6622E71F19C75FDD252BA46A921A15A7CED81FD0E269B9810CB6FD21578824378FB9AC34F700D82972612584DA47F2258B12F2F22B0CE4092D734BAF6E427C170983CFFF27FFFC1A1AB9C910000 , N'6.1.3-40302')

